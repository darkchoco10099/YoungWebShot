# ğŸŒ Young Web Shot

<div align="center">
  <img src="https://img.shields.io/badge/Next.js-14.2.3-black?style=for-the-badge&logo=next.js" alt="Next.js">
  <img src="https://img.shields.io/badge/TypeScript-5.0-blue?style=for-the-badge&logo=typescript" alt="TypeScript">
  <img src="https://img.shields.io/badge/Puppeteer-23.0.0-green?style=for-the-badge&logo=puppeteer" alt="Puppeteer">
  <img src="https://img.shields.io/badge/Tailwind_CSS-3.4.1-38B2AC?style=for-the-badge&logo=tailwind-css" alt="Tailwind CSS">
  <img src="https://img.shields.io/badge/Cloudflare_Pages-Ready-orange?style=for-the-badge&logo=cloudflare" alt="Cloudflare Pages">
</div>

<div align="center">
  <h3>ğŸš€ ç°ä»£åŒ–ç½‘é¡µæˆªå›¾å·¥å…·</h3>
  <p>åŸºäº Next.js å’Œ Puppeteer æ„å»ºçš„é«˜æ€§èƒ½ç½‘é¡µæˆªå›¾æœåŠ¡ï¼Œæ”¯æŒå¤šæµè§ˆå™¨ã€æ™ºèƒ½æ£€æµ‹ã€ä¸€é”®éƒ¨ç½²</p>
</div>

---

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸ¯ **æ™ºèƒ½æˆªå›¾å¼•æ“**
- ğŸ”¥ **å¤šæµè§ˆå™¨æ”¯æŒ** - è‡ªåŠ¨æ£€æµ‹å¹¶æ”¯æŒ Chromeã€Chromiumã€Edgeã€Safari
- âš¡ **é«˜æ€§èƒ½å¤„ç†** - ä¼˜åŒ–çš„æˆªå›¾ç®—æ³•ï¼Œå¿«é€Ÿç”Ÿæˆé«˜è´¨é‡å›¾ç‰‡
- ğŸ›¡ï¸ **æ™ºèƒ½é”™è¯¯å¤„ç†** - è¯¦ç»†çš„é”™è¯¯è¯Šæ–­å’Œç”¨æˆ·å‹å¥½çš„æç¤ºä¿¡æ¯
- ğŸŒ **URL æ™ºèƒ½è§£æ** - è‡ªåŠ¨æ ‡å‡†åŒ–å’ŒéªŒè¯è¾“å…¥çš„ç½‘å€

### â˜ï¸ **äº‘ç«¯å›¾åºŠé›†æˆ**
- ğŸ“¤ **è‡ªåŠ¨ä¸Šä¼ ** - æˆªå›¾å®Œæˆåè‡ªåŠ¨ä¸Šä¼ åˆ°å›¾åºŠæœåŠ¡
- ğŸš€ **CDN åŠ é€Ÿ** - åŸºäº Cloudflare R2 çš„å…¨çƒ CDN åˆ†å‘
- ğŸ”— **æ°¸ä¹…é“¾æ¥** - è¿”å›ç¨³å®šçš„å›¾ç‰‡ URLï¼Œæ”¯æŒé•¿æœŸè®¿é—®
- ğŸ’¾ **æ— æœ¬åœ°å­˜å‚¨** - å‡å°‘æœåŠ¡å™¨å­˜å‚¨å‹åŠ›ï¼Œæé«˜æ€§èƒ½

### ğŸ¨ **ç°ä»£åŒ–ç•Œé¢**
- ğŸ’ **ç²¾ç¾ UI è®¾è®¡** - åŸºäº shadcn/ui å’Œ Tailwind CSS çš„ç°ä»£ç•Œé¢
- ğŸ“± **å“åº”å¼å¸ƒå±€** - å®Œç¾é€‚é…æ¡Œé¢ç«¯å’Œç§»åŠ¨ç«¯
- ğŸŒ™ **æ·±è‰²æ¨¡å¼æ”¯æŒ** - è‡ªé€‚åº”ä¸»é¢˜åˆ‡æ¢
- ğŸ“Š **å¯è§†åŒ–ä»ªè¡¨æ¿** - ç›´è§‚çš„æˆªå›¾ç®¡ç†å’Œå†å²è®°å½•

### ğŸš€ **éƒ¨ç½²å‹å¥½**
- â˜ï¸ **Cloudflare Pages ä¼˜åŒ–** - ä¸“ä¸º Cloudflare Pages è¾¹ç¼˜è®¡ç®—ä¼˜åŒ–
- ğŸ”§ **ç¯å¢ƒè‡ªé€‚åº”** - å¼€å‘å’Œç”Ÿäº§ç¯å¢ƒè‡ªåŠ¨é…ç½®
- ğŸ“¦ **é›¶é…ç½®éƒ¨ç½²** - ä¸€é”®éƒ¨ç½²åˆ°äº‘å¹³å°
- ğŸ” **æµè§ˆå™¨è‡ªåŠ¨æ£€æµ‹** - æ™ºèƒ½æ£€æµ‹ç³»ç»Ÿå¯ç”¨æµè§ˆå™¨

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| **Next.js** | 14.2.3 | React å…¨æ ˆæ¡†æ¶ |
| **TypeScript** | 5.0+ | ç±»å‹å®‰å…¨å¼€å‘ |
| **Puppeteer Core** | 23.0.0 | æµè§ˆå™¨è‡ªåŠ¨åŒ– |
| **Tailwind CSS** | 3.4.1 | åŸå­åŒ– CSS æ¡†æ¶ |
| **shadcn/ui** | Latest | ç°ä»£ UI ç»„ä»¶åº“ |
| **Radix UI** | Latest | æ— éšœç¢ UI åŸºç¡€ç»„ä»¶ |
| **Lucide React** | Latest | ç²¾ç¾å›¾æ ‡åº“ |

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ğŸ“‹ ç¯å¢ƒè¦æ±‚

- **Node.js** >= 18.0.0
- **npm** >= 8.0.0 æˆ– **yarn** >= 1.22.0
- **æµè§ˆå™¨**: Chromeã€Chromiumã€Edge æˆ– Safari (macOS)

### ğŸ”§ æœ¬åœ°å¼€å‘

1. **å…‹éš†é¡¹ç›®**
   ```bash
   git clone https://github.com/your-username/young-web-shot.git
   cd young-web-shot
   ```

2. **å®‰è£…ä¾èµ–**
   ```bash
   npm install
   # æˆ–
   yarn install
   ```

3. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**
   ```bash
   npm run dev
   # æˆ–
   yarn dev
   ```

4. **è®¿é—®åº”ç”¨**
   
   æ‰“å¼€æµè§ˆå™¨è®¿é—® [http://localhost:3000](http://localhost:3000)

### ğŸŒ ç”Ÿäº§éƒ¨ç½²

#### Cloudflare Pages éƒ¨ç½² (æ¨è)

> ğŸ‰ **æœ€æ–°æ›´æ–°**: å·²å®Œå…¨è¿ç§»åˆ° Cloudflare Pagesï¼Œäº«å—æ›´å¿«çš„è¾¹ç¼˜è®¡ç®—æ€§èƒ½ï¼

1. **Fork æœ¬ä»“åº“**
2. **è¿æ¥åˆ° Cloudflare Pages**
3. **è‡ªåŠ¨éƒ¨ç½²**
   - Cloudflare Pages ä¼šè‡ªåŠ¨æ£€æµ‹ Next.js é¡¹ç›®
   - ä½¿ç”¨é¡¹ç›®ä¸­çš„ `wrangler.toml` é…ç½®
   - è‡ªåŠ¨å®‰è£… `@sparticuz/chromium` ä¾èµ–

4. **éªŒè¯éƒ¨ç½²**
   ```bash
   curl "https://your-app.pages.dev/api/screenshot?url=example.com"
   ```

**ğŸ”§ ä¼˜åŒ–ç‰¹æ€§**:
- âœ… å…¨çƒè¾¹ç¼˜è®¡ç®—ç½‘ç»œï¼Œå“åº”æ›´å¿«
- âœ… å‡çº§ `@sparticuz/chromium` åˆ° v130.0.0
- âœ… ä¼˜åŒ–å†…å­˜å’Œæ€§èƒ½é…ç½®
- âœ… æ”¹è¿›é”™è¯¯å¤„ç†å’Œæ—¥å¿—è®°å½•

> âš ï¸ **éƒ¨ç½²é—®é¢˜ï¼Ÿ** æŸ¥çœ‹ [Cloudflare Pages éƒ¨ç½²æŒ‡å—](./CLOUDFLARE_PAGES_DEPLOYMENT.md)

**ç¯å¢ƒå˜é‡é…ç½®**

| å˜é‡å | å€¼ | è¯´æ˜ |
|--------|----|----------|
| `NODE_ENV` | `production` | ç”Ÿäº§ç¯å¢ƒæ ‡è¯† |
| `PUPPETEER_SKIP_CHROMIUM_DOWNLOAD` | `true` | è·³è¿‡ Chromium ä¸‹è½½ |

#### å…¶ä»–å¹³å°éƒ¨ç½²

- **Vercel**: æ”¯æŒï¼ˆéœ€è¦é…ç½®å‡½æ•°ï¼‰
- **Netlify**: æ”¯æŒï¼ˆéœ€è¦é…ç½®å‡½æ•°ï¼‰
- **Railway**: æ”¯æŒ
- **Docker**: æä¾› Dockerfile

```bash
# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
npm start
```

---

## ğŸ“– API æ–‡æ¡£

### æˆªå›¾ API

**ç«¯ç‚¹**: `GET /api/screenshot`

**å‚æ•°**:
- `url` (å¿…éœ€): è¦æˆªå›¾çš„ç½‘é¡µåœ°å€

**ç¤ºä¾‹è¯·æ±‚**:
```bash
# åŸºç¡€ç”¨æ³•
curl "http://localhost:3000/api/screenshot?url=example.com"

# å®Œæ•´ URL
curl "http://localhost:3000/api/screenshot?url=https://www.google.com"
```

**å“åº”**:
- **æˆåŠŸ**: è¿”å›åŒ…å«å›¾ç‰‡ URL çš„ JSON æ•°æ®
- **å¤±è´¥**: è¿”å› JSON æ ¼å¼çš„é”™è¯¯ä¿¡æ¯

**æˆåŠŸå“åº”ç¤ºä¾‹**:
```json
{
  "success": true,
  "imageUrl": "https://cdn.example.com/screenshots/abc123.png",
  "uploadedAt": "2024-01-01T12:00:00Z"
}
```

**é”™è¯¯ä»£ç **:
| çŠ¶æ€ç  | è¯´æ˜ |
|--------|------|
| 400 | ç¼ºå°‘ URL å‚æ•°æˆ–æ ¼å¼æ— æ•ˆ |
| 404 | ç½‘ç«™æ— æ³•è®¿é—® |
| 408 | è¯·æ±‚è¶…æ—¶ |
| 503 | æµè§ˆå™¨ä¸å¯ç”¨æˆ–æœåŠ¡æš‚ä¸å¯ç”¨ |
| 500 | æœåŠ¡å™¨å†…éƒ¨é”™è¯¯ |

---

## ğŸ¯ ä½¿ç”¨æŒ‡å—

### ğŸ–¥ï¸ Web ç•Œé¢ä½¿ç”¨

1. **è®¿é—®ä»ªè¡¨æ¿**: æ‰“å¼€ `/dashboard` é¡µé¢
2. **è¾“å…¥ç½‘å€**: åœ¨è¾“å…¥æ¡†ä¸­è¾“å…¥è¦æˆªå›¾çš„ç½‘é¡µåœ°å€
3. **ç”Ÿæˆæˆªå›¾**: ç‚¹å‡»ã€Œæˆªå›¾ã€æŒ‰é’®æˆ–æŒ‰ Enter é”®
4. **ç®¡ç†æˆªå›¾**: æŸ¥çœ‹ã€ä¸‹è½½æˆ–åˆ é™¤å†å²æˆªå›¾è®°å½•

### ğŸ”§ API é›†æˆ

```javascript
// JavaScript ç¤ºä¾‹
async function takeScreenshot(url) {
  try {
    const response = await fetch(`/api/screenshot?url=${encodeURIComponent(url)}`);
    
    if (response.ok) {
      const result = await response.json();
      return result.imageUrl; // è¿”å›å›¾åºŠé“¾æ¥
    } else {
      const error = await response.json();
      throw new Error(error.error);
    }
  } catch (error) {
    console.error('æˆªå›¾å¤±è´¥:', error);
    throw error;
  }
}

// ä½¿ç”¨ç¤ºä¾‹
takeScreenshot('https://example.com')
  .then(imageUrl => {
    console.log('æˆªå›¾æˆåŠŸï¼Œå›¾ç‰‡é“¾æ¥:', imageUrl);
    // imageUrl æ˜¯æ°¸ä¹…å¯è®¿é—®çš„å›¾åºŠé“¾æ¥
  })
  .catch(error => {
    console.error('æˆªå›¾å¤±è´¥:', error);
  });
```

---

## âš™ï¸ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡

åˆ›å»º `.env.local` æ–‡ä»¶:

```env
# å¼€å‘ç¯å¢ƒé…ç½®
NODE_ENV=development

# Cloudflare Pages éƒ¨ç½²é…ç½® (è‡ªåŠ¨è®¾ç½®)
PUPPETEER_SKIP_CHROMIUM_DOWNLOAD=true

# å›¾åºŠæœåŠ¡é…ç½®
CLOUDFLARE_R2_ACCESS_KEY_ID=your_access_key
CLOUDFLARE_R2_SECRET_ACCESS_KEY=your_secret_key
CLOUDFLARE_R2_BUCKET_NAME=your_bucket_name
CLOUDFLARE_R2_ENDPOINT=your_r2_endpoint
CLOUDFLARE_R2_PUBLIC_URL=your_public_cdn_url
```

### æµè§ˆå™¨é…ç½®

é¡¹ç›®æ”¯æŒå¤šç§æµè§ˆå™¨ï¼Œä¼˜å…ˆçº§é¡ºåºï¼š
1. **Google Chrome** (æ¨è)
2. **Chromium**
3. **Microsoft Edge**
4. **Safari** (ä»… macOSï¼ŒåŠŸèƒ½æœ‰é™)

### æ€§èƒ½ä¼˜åŒ–

- **è¶…æ—¶è®¾ç½®**: 30ç§’é¡µé¢åŠ è½½è¶…æ—¶
- **è§†å£å¤§å°**: 1280x720 (å¯è‡ªå®šä¹‰)
- **ç¼“å­˜ç­–ç•¥**: ç”Ÿäº§ç¯å¢ƒå¯ç”¨é•¿æœŸç¼“å­˜
- **èµ„æºæ¸…ç†**: è‡ªåŠ¨é‡Šæ”¾æµè§ˆå™¨å®ä¾‹

---

## ğŸ”§ å¼€å‘æŒ‡å—

### é¡¹ç›®ç»“æ„

```
young-web-shot/
â”œâ”€â”€ app/                    # Next.js App Router
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â””â”€â”€ screenshot/     # æˆªå›¾ API è·¯ç”±
â”‚   â”œâ”€â”€ dashboard/          # ä»ªè¡¨æ¿é¡µé¢
â”‚   â”œâ”€â”€ globals.css         # å…¨å±€æ ·å¼
â”‚   â”œâ”€â”€ layout.tsx          # æ ¹å¸ƒå±€
â”‚   â””â”€â”€ page.tsx           # é¦–é¡µ
â”œâ”€â”€ components/             # UI ç»„ä»¶
â”‚   â””â”€â”€ ui/                # shadcn/ui ç»„ä»¶
â”œâ”€â”€ lib/                   # æ ¸å¿ƒåº“
â”‚   â”œâ”€â”€ chromium.ts        # æˆªå›¾å¼•æ“
â”‚   â”œâ”€â”€ chromium-options.ts # æµè§ˆå™¨é…ç½®
â”‚   â””â”€â”€ utils.ts           # å·¥å…·å‡½æ•°
â”œâ”€â”€ public/                # é™æ€èµ„æº
â”œâ”€â”€ .env.example           # ç¯å¢ƒå˜é‡ç¤ºä¾‹
â”œâ”€â”€ wrangler.toml          # Cloudflare Pages é…ç½®
â””â”€â”€ README.md              # é¡¹ç›®æ–‡æ¡£
```

### æ ¸å¿ƒæ¨¡å—

#### æˆªå›¾å¼•æ“ (`lib/chromium.ts`)
- æµè§ˆå™¨å®ä¾‹ç®¡ç†
- é¡µé¢æˆªå›¾ç”Ÿæˆ
- é”™è¯¯å¤„ç†å’Œèµ„æºæ¸…ç†

#### æµè§ˆå™¨é…ç½® (`lib/chromium-options.ts`)
- å¤šæµè§ˆå™¨æ”¯æŒ
- ç¯å¢ƒè‡ªé€‚åº”é…ç½®
- æµè§ˆå™¨å¯ç”¨æ€§æ£€æµ‹

### è‡ªå®šä¹‰å¼€å‘

```typescript
// æ‰©å±•æˆªå›¾é€‰é¡¹
interface ScreenshotOptions {
  width?: number;
  height?: number;
  fullPage?: boolean;
  quality?: number; // ä»… JPEG æ ¼å¼
}

// è‡ªå®šä¹‰æˆªå›¾å‡½æ•°
export async function customScreenshot(
  url: string, 
  options: ScreenshotOptions = {}
) {
  // å®ç°è‡ªå®šä¹‰æˆªå›¾é€»è¾‘
}
```

---

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### 1. æµè§ˆå™¨æœªæ‰¾åˆ°
```
é”™è¯¯: Chrome/Chromium browser not found
```
**è§£å†³æ–¹æ¡ˆ**:
- å®‰è£… [Google Chrome](https://www.google.com/chrome/)
- æˆ–å®‰è£… [Chromium](https://www.chromium.org/getting-involved/download-chromium/)
- macOS ç”¨æˆ·å¯ä½¿ç”¨ç³»ç»Ÿè‡ªå¸¦çš„ Safari

#### 2. æˆªå›¾è´¨é‡é—®é¢˜
```
é”™è¯¯: png screenshots do not support 'quality'
```
**è§£å†³æ–¹æ¡ˆ**: PNG æ ¼å¼ä¸æ”¯æŒè´¨é‡å‚æ•°ï¼Œå·²åœ¨ä»£ç ä¸­è‡ªåŠ¨å¤„ç†

#### 3. ç½‘ç»œè¶…æ—¶
```
é”™è¯¯: TimeoutError: Navigation timeout
```
**è§£å†³æ–¹æ¡ˆ**:
- æ£€æŸ¥ç½‘ç»œè¿æ¥
- ç¡®è®¤ç›®æ ‡ç½‘ç«™å¯è®¿é—®
- å¢åŠ è¶…æ—¶æ—¶é—´é…ç½®

#### 4. Cloudflare Pages éƒ¨ç½²é—®é¢˜
**è§£å†³æ–¹æ¡ˆ**:
- ç¡®ä¿è®¾ç½®äº† `PUPPETEER_SKIP_CHROMIUM_DOWNLOAD=true`
- æ£€æŸ¥ `wrangler.toml` é…ç½®
- æŸ¥çœ‹éƒ¨ç½²æ—¥å¿—æ’æŸ¥å…·ä½“é”™è¯¯

### è°ƒè¯•æ¨¡å¼

```bash
# å¯ç”¨è¯¦ç»†æ—¥å¿—
DEBUG=puppeteer:* npm run dev

# æŸ¥çœ‹æµè§ˆå™¨æ£€æµ‹ä¿¡æ¯
node -e "console.log(require('./lib/chromium-options').checkBrowserAvailability())"
```

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ï¼

### è´¡çŒ®æ–¹å¼

1. **ğŸ› æŠ¥å‘Š Bug**: åœ¨ [Issues](https://github.com/your-username/young-web-shot/issues) ä¸­æŠ¥å‘Šé—®é¢˜
2. **ğŸ’¡ åŠŸèƒ½å»ºè®®**: æå‡ºæ–°åŠŸèƒ½æƒ³æ³•å’Œæ”¹è¿›å»ºè®®
3. **ğŸ“ æ–‡æ¡£æ”¹è¿›**: å®Œå–„æ–‡æ¡£å’Œç¤ºä¾‹ä»£ç 
4. **ğŸ”§ ä»£ç è´¡çŒ®**: æäº¤ Pull Request

### å¼€å‘æµç¨‹

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯: `git checkout -b feature/amazing-feature`
3. æäº¤æ›´æ”¹: `git commit -m 'Add amazing feature'`
4. æ¨é€åˆ†æ”¯: `git push origin feature/amazing-feature`
5. åˆ›å»º Pull Request

### ä»£ç è§„èŒƒ

- ä½¿ç”¨ TypeScript è¿›è¡Œç±»å‹å®‰å…¨å¼€å‘
- éµå¾ª ESLint é…ç½®è§„èŒƒ
- æ·»åŠ é€‚å½“çš„æ³¨é‡Šå’Œæ–‡æ¡£
- ç¡®ä¿æ‰€æœ‰æµ‹è¯•é€šè¿‡

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT è®¸å¯è¯](LICENSE) - æŸ¥çœ‹ LICENSE æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

---

## ğŸ™ è‡´è°¢

æ„Ÿè°¢ä»¥ä¸‹å¼€æºé¡¹ç›®çš„æ”¯æŒï¼š

- [Next.js](https://nextjs.org/) - React å…¨æ ˆæ¡†æ¶
- [Puppeteer](https://pptr.dev/) - æµè§ˆå™¨è‡ªåŠ¨åŒ–å·¥å…·
- [Tailwind CSS](https://tailwindcss.com/) - å®ç”¨ä¼˜å…ˆçš„ CSS æ¡†æ¶
- [shadcn/ui](https://ui.shadcn.com/) - ç°ä»£ React ç»„ä»¶åº“
- [Radix UI](https://www.radix-ui.com/) - æ— éšœç¢ UI åŸºç¡€ç»„ä»¶
- [Lucide](https://lucide.dev/) - ç²¾ç¾çš„å›¾æ ‡åº“

---

<div align="center">
  <p>å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™å®ƒä¸€ä¸ª â­ï¸</p>
  <p>Made with â¤ï¸ by <a href="https://github.com/your-username">Your Name</a></p>
</div>